<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>2er-Gruppen Bilden ‚Äì Oberstufe</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#121a36;
      --accent:#66e0ff;
      --ink:#e9f0ff;
      --muted:#9bb0d1;
      --ok:#7CFFB2;
      --warn:#ff9f6e;
      --danger:#ff6e6e;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 10% -10%, #1b2550 0%, transparent 70%),
                  radial-gradient(1200px 600px at 110% 10%, #133a5a 0%, transparent 70%),
                  var(--bg);
      color:var(--ink);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      display:block;
      padding:24px;
    }
    .app{width:min(1100px, 100%); margin-inline:auto}
    header{display:flex; align-items:center; gap:14px; margin-bottom:16px}
    .logo{
      width:44px;height:44px;border-radius:10px;
      background: conic-gradient(from 0deg, var(--accent), #6fffcd, #ffd56a, #ff8ab0, var(--accent));
      box-shadow: 0 0 24px #2cf7ff55 inset, 0 0 24px #2cf7ff44;
      position:relative;
    }
    .logo::after{content:"üé∞"; position:absolute; inset:0; display:grid; place-items:center; font-size:24px;}
    h1{margin:0;font-weight:800;letter-spacing:0.3px;font-size: clamp(22px, 3.4vw, 30px);}
    .subtitle{color:var(--muted); margin-top:2px}
    .grid{display:grid; grid-template-columns: 1.1fr 1.4fr; gap:16px}
    @media (max-width: 900px){.grid{grid-template-columns:1fr}}
    .card{
      background: linear-gradient(180deg, #1a2550 0%, #101733 100%);
      border:1px solid #2a3969;
      border-radius:14px;
      padding:16px;
      box-shadow: 0 10px 30px #0007, inset 0 1px 0 #3a4e88;
      position:relative;
      overflow:hidden;
    }
    label{font-weight:600; display:block; margin-bottom:8px}
    textarea, select, button{
      width:100%;
      background:#0e1430;
      color:var(--ink);
      border:1px solid #2a3969;
      border-radius:10px;
      padding:12px 14px;
      font-size:16px;
      outline:none;
    }
    textarea{min-height:280px; resize:vertical}
    select{appearance:none;}
    button{
      cursor:pointer; font-weight:700;
      background: linear-gradient(180deg, #0fd6ff, #0bb4df);
      border:0; color:#001025;
      box-shadow: 0 6px 20px #00d0ff55, 0 1px 0 #74f2ff inset;
    }
    button.secondary{
      background: linear-gradient(180deg, #ffd56a, #ffb04d);
      box-shadow: 0 6px 20px #ffa54d55, 0 1px 0 #fff0cc inset; color:#3b2200;
    }
    button.ghost{background: transparent; color: var(--ink); border:1px dashed #3a4e88;}
    button:active{transform: translateY(1px)}
    .controls{display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:12px}
    .inline{display:flex; gap:12px; align-items:center; margin-top:8px}
    .inline > *{flex:1}
    .hint{font-size:13px; color:var(--muted); margin-top:8px}
    .status{margin-top:8px; font-weight:600}
    .status.ok{color:var(--ok)} .status.warn{color:var(--warn)} .status.bad{color:var(--danger)}
    .toolbar{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .footer{margin-top:18px; font-size:12px; color:var(--muted); text-align:center}
    .results{display:grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap:14px; min-height: 120px; scroll-margin-top: 12px}
    .group{
      position:relative;
      background: linear-gradient(180deg, #0f1536 0%, #0a0f28 100%);
      border:1px solid #283560;
      border-radius:14px;
      padding:12px; overflow:hidden;
      box-shadow: 0 8px 22px #0007, inset 0 1px 0 #2b3f7a;
    }
    .group h3{margin:0 0 8px; font-size:14px; letter-spacing:1px; text-transform:uppercase; color:#a8c1ff}
    .slot{
      position:relative;
      height:160px;
      overflow:hidden;
      border-radius:10px; border:1px solid #31457e;
      background: radial-gradient(300px 64px at 50% 0%, #1a2550 0%, #0a0f28 70%);
      box-shadow: inset 0 1px 0 #4a65b2;
    }
    .reel{position:absolute; inset:0; display:flex; flex-direction:column; gap:10px; padding:10px; transform: translateY(0)}
    .cell{
      padding:18px 20px;
      border-radius:14px;
      background:#0b1333;
      border:1px solid #243363;
      font-weight:900;
      font-size:36px;
      line-height:1.1;
      text-align:center;
      color:#e9f4ff;
      white-space:nowrap;
      overflow:hidden;
      box-shadow:inset 0 2px 0 #3a4e88, 0 4px 12px #000a;
    }
    .group .badge{
      position:absolute; right:10px; top:10px; font-size:11px; background:#0fd6ff22; border:1px solid #2b6b8f; color:#a9f2ff;
      padding:2px 6px; border-radius:999px; letter-spacing:0.6px;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>üé∞ 2er-Gruppen Bilden</h1>
        <div class="subtitle">F√ºr Oberstufenklassen ‚Äì Namen einf√ºgen, Gruppengr√∂sse w√§hlen, Jackpot starten!</div>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <label for="names">Namen (je eine Zeile)</label>
        <textarea id="names" placeholder="Max Muster
Eva Beispiel
..."></textarea>

        <div class="inline">
          <div style="flex:0.8">
            <label for="size">Gruppengr√∂sse</label>
            <select id="size">
              <option value="2" selected>2 Personen</option>
              <option value="3">3 Personen</option>
              <option value="4">4 Personen</option>
            </select>
          </div>
        </div>

        <div class="controls">
          <button id="go">üé≤ Gruppen bilden</button>
          <button class="secondary" id="reshuffle">üîÅ Neu mischen</button>
        </div>
        <div class="hint">Tipp: Ideal sind 15‚Äì20 Namen. Ungerade oder Restzahlen werden automatisch fair aufgeteilt.</div>
        <div class="status" id="status"></div>
      </section>

      <section class="card">
        <div class="toolbar">
          <button class="ghost" id="copy">üìã Ergebnisse kopieren</button>
          <button class="ghost" id="clear">üßπ Eingaben leeren</button>
          <button class="ghost" id="sample">‚ú® Demo-Namen einf√ºgen</button>
        </div>
        <div class="results" id="results" aria-live="polite"></div>
        <div class="footer">Made for Klassenlehrpersonen ‚Ä¢ Keine Daten werden gespeichert ‚Ä¢ Offline nutzbar</div>
      </section>
    </div>
  </div>

<script>
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a;}
function buildGroupsBalanced(names,size){const clean=names.map(n=>n.trim()).filter(n=>n.length>0);shuffle(clean);let groups=[];for(let i=0;i<clean.length;i+=size){groups.push(clean.slice(i,i+size));}if(groups.length>1){const last=groups[groups.length-1];if(last.length===1){for(let k=groups.length-2;k>=0&&last.length<2;k--){if(groups[k].length>2){last.unshift(groups[k].pop());}}}}return groups;}
function playDing(){try{const ctx=new(window.AudioContext||window.webkitAudioContext)();const o=ctx.createOscillator();const g=ctx.createGain();o.type="triangle";o.frequency.setValueAtTime(880,ctx.currentTime);g.gain.setValueAtTime(0.0001,ctx.currentTime);g.gain.exponentialRampToValueAtTime(0.2,ctx.currentTime+0.01);g.gain.exponentialRampToValueAtTime(0.0001,ctx.currentTime+0.25);o.connect(g).connect(ctx.destination);o.start();o.stop(ctx.currentTime+0.26);}catch(e){}}
function renderGroups(groups){const res=document.getElementById('results');res.innerHTML="";const all=groups.flat();const spinRounds=10;const baseDelay=450;groups.forEach((g,i)=>{const c=document.createElement('div');c.className='group';const h=document.createElement('h3');h.textContent=`Gruppe ${i+1}`;const b=document.createElement('div');b.className='badge';b.textContent=`${g.length} Sch√ºler`;const slot=document.createElement('div');slot.className='slot';const reel=document.createElement('div');reel.className='reel';slot.appendChild(reel);const cells=[];for(let r=0;r<spinRounds;r++){const picks=shuffle([...all]).slice(0,g.length);picks.forEach(p=>{const cc=document.createElement('div');cc.className='cell';cc.textContent=p;cells.push(cc);});}g.forEach(p=>{const cc=document.createElement('div');cc.className='cell';cc.textContent=p;cells.push(cc);});cells.forEach(x=>reel.appendChild(x));c.appendChild(h);c.appendChild(b);c.appendChild(slot);res.appendChild(c);setTimeout(()=>{const any=reel.querySelector('.cell');const hgt=any?any.getBoundingClientRect().height+10:36;const tot=cells.length;const finalOff=-(hgt*(tot-g.length));const dur=1100+i*baseDelay+Math.random()*300;reel.style.transition=`transform ${dur}ms cubic-bezier(.17,.67,.22,1.08)`;reel.style.transform=`translateY(0px)`;setTimeout(()=>{reel.style.transform=`translateY(${finalOff}px)`;setTimeout(()=>playDing(),dur-120);},30);},0);});}
function toast(m){const t=document.createElement('div');t.textContent=m;Object.assign(t.style,{position:'fixed',left:'50%',bottom:'24px',transform:'translateX(-50%)',background:'#0fd6ff',color:'#001225',padding:'10px 14px',borderRadius:'999px',fontWeight:'800',boxShadow:'0 8px 22px #00d0ff55',zIndex:9999});document.body.appendChild(t);setTimeout(()=>{t.style.transition='opacity .3s';t.style.opacity='0';},1400);setTimeout(()=>t.remove(),1800);}
let last=[];function getNamesList(){return document.getElementById('names').value.split('\\n');}
function gen(scroll=true){const names=getNamesList();const size=parseInt(document.getElementById('size').value,10);const clean=names.map(n=>n.trim()).filter(Boolean);const info=document.getElementById('status');if(clean.length===0){info.className='status bad';info.textContent='Bitte zuerst Namen eingeben.';return;}if(clean.length<15||clean.length>30){info.className='status warn';info.textContent=`Hinweis: Du hast ${clean.length} Namen.`;}else{info.className='status ok';info.textContent=`Perfekt: ${clean.length} Namen ‚Äì Gruppengr√∂sse ${size}.`;}const g=buildGroupsBalanced(clean,size);if(g.length){last=g;renderGroups(g);if(scroll){document.getElementById('results').scrollIntoView({behavior:'smooth',block:'start'});}}}
document.getElementById('go').onclick=()=>gen(true);
document.getElementById('reshuffle').onclick=()=>gen(false);
document.getElementById('copy').onclick=()=>{if(!last.length){toast('Zuerst Gruppen bilden üôÇ');return;}const text=last.map((g,i)=>`Gruppe ${i+1}: ${g.join(' | ')}`).join('\\n');navigator.clipboard.writeText(text).then(()=>toast('Ergebnisse kopiert ‚úÖ'));};
document.getElementById('clear').onclick=()=>{document.getElementById('names').value='';document.getElementById('results').innerHTML='';document.getElementById('status').textContent='';};
document.getElementById('sample').onclick=()=>{const demo=["Anouk","Loris","Mia","Ben","Lina","Noah","Emilia","Levi","Lea","Luca","Nina","Elias","Sofia","Jonas","Marie","Leon","Emma","Paul","Nora","Finn"];document.getElementById('names').value=demo.join('\\n');toast('Demo-Namen eingef√ºgt ‚ú®');};
</script>
</body>
</html>
